@import '@fontsource/plus-jakarta-sans/300.css';
@import '@fontsource/plus-jakarta-sans/400.css';
@import '@fontsource/plus-jakarta-sans/500.css';
@import '@fontsource/plus-jakarta-sans/600.css';
@import '@fontsource/plus-jakarta-sans/700.css';
@import '@fontsource/plus-jakarta-sans/800.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

html { scroll-behavior: smooth; }
body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: 'Plus Jakarta Sans', sans-serif; }
.glass-nav { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(16px); border-bottom: 1px solid rgba(0,0,0,0.05); }
.content-enter { animation: fadeInUp 0.6s ease-out forwards; }

/* Selection Color */
::selection {
    background-color: #e6f0fa; /* gas-light */
    color: #005b9f; /* gas */
}

/* Modern Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #f1f1f1; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

/* Zebra Striping for Tables */
.zebra-table tr:nth-child(even) { background-color: #f9fafb; }
.zebra-table th { background-color: #f3f4f6; color: #1f2937; font-weight: 700; }

/* Article Content Styles (Extracted from style tag) */
.article-content h3 { font-size: 1.75rem; font-weight: 800; color: #1f2937; margin-bottom: 1.5rem; letter-spacing: -0.02em; }
.article-content h4 { font-size: 1.35rem; font-weight: 700; color: #005b9f; margin-top: 2.5rem; margin-bottom: 1rem; border-bottom: 2px solid #e6f0fa; padding-bottom: 0.5rem; }
.article-content h4:first-of-type { margin-top: 1rem; }
.article-content p { margin-bottom: 1.25rem; line-height: 1.8; color: #4b5563; font-size: 1rem; }
.article-content ul { list-style-type: none; padding-left: 0; margin-bottom: 1.5rem; }
.article-content li { margin-bottom: 0.75rem; line-height: 1.6; position: relative; padding-left: 1.5rem; color: #4b5563; }
.article-content li::before { content: "â€¢"; color: #005b9f; font-weight: bold; position: absolute; left: 0; width: 1rem; }
.article-content strong { color: #1f2937; font-weight: 600; }
.article-content .highlight-box { background-color: #f8fafc; border-left: 4px solid #005b9f; padding: 1.5rem; margin: 2rem 0; border-radius: 0 0.5rem 0.5rem 0; }

/* Sidebar Navigation */
.sidebar-link.active { background-color: #e6f0fa; color: #005b9f; font-weight: 600; border-right: 3px solid #005b9f; }

/* Custom Slider */
input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 24px;
    width: 24px;
    border-radius: 50%;
    background: #005b9f;
    cursor: pointer;
    margin-top: -10px;
    box-shadow: 0 4px 12px rgba(0,91,159,0.3);
    border: 2px solid white;
}
input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 4px;
    cursor: pointer;
    background: #e2e8f0;
    border-radius: 2px;
}

/* Scroll to Top Button - Adjusted Position */
.scroll-to-top {
    position: fixed;
    bottom: 110px; /* Increased to avoid sticky CTA on mobile */
    right: 20px;
    z-index: 999;
    background: #ffffff;
    color: #005b9f;
    border: 1px solid #e2e8f0;
    padding: 12px;
    border-radius: 50%;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: all 0.3s ease;
    opacity: 0;
    transform: translateY(20px);
    pointer-events: none;
}
@media (min-width: 768px) {
    .scroll-to-top {
        bottom: 40px;
        right: 40px;
    }
}
.scroll-to-top.visible {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}
.scroll-to-top:hover {
    background: #005b9f;
    color: white;
    box-shadow: 0 6px 16px rgba(0,91,159,0.25);
}

/* Accessibility Modes */
.a11y-high-contrast {
    filter: contrast(1.3) saturate(0.8);
}
.a11y-high-contrast img {
    filter: contrast(0.8) saturate(1.2); /* Revert image contrast partially */
}

html.a11y-large-text {
    font-size: 110%;
}
@media (min-width: 1024px) {
    html.a11y-large-text {
        font-size: 120%;
    }
}

.a11y-reduce-motion * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
}

.a11y-highlight-links a {
    text-decoration: underline !important;
    text-decoration-thickness: 2px !important;
}

/* Print Styles - Optimized */
@media print {
    /* Hide navigational and interactive elements */
    header, footer, nav, .cookie-banner, .sticky-cta, .no-print, .scroll-to-top, [aria-modal="true"], button {
        display: none !important;
    }

    /* Ensure content visibility */
    body {
        background: white !important;
        color: black !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    #main-content {
        padding-top: 0 !important;
        margin-top: 0 !important;
        width: 100% !important;
    }

    /* Improve Calculator Layout for Print */
    #calculator, .calculator-result {
        border: 1px solid #ccc !important;
        box-shadow: none !important;
        margin-top: 20px !important;
        page-break-inside: avoid;
    }

    /* Show inputs as text */
    input[type="text"], input[type="number"], select {
        border: none !important;
        background: transparent !important;
        padding: 0 !important;
        font-weight: bold;
    }

    /* Force background printing for essential elements if possible */
    .print-bg {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }

    .print-break {
        page-break-before: always;
    }

    a[href]::after {
        content: none !important;
    }

    h1, h2, h3 {
        page-break-after: avoid;
        color: black !important;
    }

    p, li {
        color: black !important;
    }

    img {
        max-width: 100% !important;
        page-break-inside: avoid;
    }

    /* Ensure tank detail svg is visible */
    svg {
        break-inside: avoid;
    }
}

/* Accessibility: Focus Visible - Brand Color */
:focus-visible {
    outline: 3px solid #005b9f; /* gas */
    outline-offset: 2px;
}

/* Global Autofill Fix for Dark Themes */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
    transition: background-color 5000s ease-in-out 0s;
    -webkit-text-fill-color: inherit !important;
}

::placeholder {
    opacity: 1;
}
